# –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥-—Ñ–∞–π–ª–æ–≤

**Log-Analyzer** ‚Äî —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ—à–∏–±–æ–∫, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –ª–æ–≥–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –≤–∏–¥–µ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `loganalyzer.py`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É Python –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –ª–æ–≥-—Ñ–∞–π–ª–∞–º–∏ –∑–∞ —Å—á—ë—Ç –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÑ –ê–Ω–∞–ª–∏–∑ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `stdin`
- üß© –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –ª–æ–≥–æ–≤:
  - `classic`
  - `bracketed`
  - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π `regex`
- üîé –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤:
  - –ø–æ —É—Ä–æ–≤–Ω—è–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (ERROR, WARNING, INFO –∏ –¥—Ä.)
  - –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç (`--since`, `--until`)
  - –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—è (regex)
  - –ø–æ –∏–º–µ–Ω–∏ –ª–æ–≥–≥–µ—Ä–∞
- üìä –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
  - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
  - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã—Ö –∏ –Ω–µ—Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
  - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  - —Ç–æ–ø —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è —Å–æ–æ–±—â–µ–Ω–∏–π
  - —Ç–æ–ø –ª–æ–≥–≥–µ—Ä–æ–≤
  - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ (–ø–æ —á–∞—Å–∞–º –∏–ª–∏ –¥–Ω—è–º)
  - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ (`code=...`)
- üß† –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ—Ö–æ–∂–∏—Ö –æ—à–∏–±–æ–∫
- üì§ –í—ã–≤–æ–¥ –æ—Ç—á—ë—Ç–æ–≤:
  - –≤ –∫–æ–Ω—Å–æ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - –≤ JSON
  - –≤ CSV
- ‚öôÔ∏è –ì–∏–±–∫–∏–π CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üöÄ –ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)

---

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ª–æ–≥–æ–≤

### –§–æ—Ä–º–∞—Ç `classic`

```

2025-12-14 10:15:02,123 INFO auth: User login success id=42 ip=1.2.3.4
2025-12-14 10:15:05,987 ERROR db: Connection failed code=ECONNRESET

```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- timestamp: `YYYY-MM-DD HH:MM:SS,mmm`
- level
- logger
- message

---

### –§–æ—Ä–º–∞—Ç `bracketed`

```

[2025-12-14T10:15:02.123+00:00] [INFO] [auth] User login success id=42
[2025-12-14T10:15:05.987+00:00] [ERROR] [db] Connection failed code=ECONNRESET

````

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- timestamp (ISO 8601)
- level
- logger
- message

---

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç (`regex`)

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏:

- `ts` ‚Äî timestamp
- `level` ‚Äî —É—Ä–æ–≤–µ–Ω—å
- `logger` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫
- `msg` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä:
```bash
python loganalyzer.py --format regex --pattern "(?P<ts>...) (?P<level>...) (?P<logger>...) (?P<msg>...)"
````

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/Mironov1994/Log-Analyzer.git
cd Log-Analyzer
```

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

* Python **3.10+**
* –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
python loganalyzer.py --file app.log --format classic
```

---

### –ß—Ç–µ–Ω–∏–µ –∏–∑ stdin

```bash
cat app.log | python loganalyzer.py --format classic
```

---

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—é –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

```bash
python loganalyzer.py \
  --file app.log \
  --format classic \
  --level ERROR,WARNING \
  --normalize \
  --top 20
```

---

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –¥–Ω—è–º

```bash
python loganalyzer.py \
  --file app.log \
  --format bracketed \
  --since "2025-12-14" \
  --time-bucket day
```

---

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –≤ JSON

```bash
python loganalyzer.py \
  --file app.log \
  --format classic \
  --json report.json
```

---

### –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ CSV

```bash
python loganalyzer.py \
  --file app.log \
  --format classic \
  --csv-dir ./reports
```

---

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ—Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫

```bash
python loganalyzer.py \
  --file app.log \
  --format classic \
  --save-unparsed unparsed.log
```

---

## –û—Å–Ω–æ–≤–Ω—ã–µ CLI-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ê—Ä–≥—É–º–µ–Ω—Ç              | –û–ø–∏—Å–∞–Ω–∏–µ                                               |
| --------------------- | ------------------------------------------------------ |
| `--file`              | –ü—É—Ç—å –∫ –ª–æ–≥-—Ñ–∞–π–ª—É (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è stdin) |
| `--format`            | –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤: `classic`, `bracketed`, `regex`          |
| `--pattern`           | Regex-–ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞            |
| `--level`             | –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)                     |
| `--since` / `--until` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏                                  |
| `--match`             | –í–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–æ–∫–∏, —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Å regex                   |
| `--ignore`            | –ò—Å–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø–æ regex                              |
| `--logger`            | –§–∏–ª—å—Ç—Ä –ø–æ –∏–º–µ–Ω–∏ –ª–æ–≥–≥–µ—Ä–∞                                |
| `--logger-regex`      | –§–∏–ª—å—Ç—Ä –ø–æ regex –ª–æ–≥–≥–µ—Ä–∞                                |
| `--normalize`         | –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π                                 |
| `--top`               | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ç–æ–ø–∞—Ö                           |
| `--time-bucket`       | `hour` –∏–ª–∏ `day`                                       |
| `--json`              | –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è JSON-–æ—Ç—á—ë—Ç–∞                        |
| `--csv-dir`           | –ö–∞—Ç–∞–ª–æ–≥ –¥–ª—è CSV-–æ—Ç—á—ë—Ç–æ–≤                                |
| `--quiet`             | –û—Ç–∫–ª—é—á–∏—Ç—å –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å                              |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

* –û–¥–∏–Ω —Ñ–∞–π–ª: `loganalyzer.py`
* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

  * `argparse`
  * `dataclasses`
  * `collections.Counter`
  * `re`
  * `datetime`
* –ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
* –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
* –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:

  * –ø–∞—Ä—Å–∏–Ω–≥
  * —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  * –∞–≥—Ä–µ–≥–∞—Ü–∏—è
  * –≤—ã–≤–æ–¥

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**. –í—ã –º–æ–∂–µ—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–π –∫–æ–¥.
